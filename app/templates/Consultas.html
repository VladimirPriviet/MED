{% extends 'base.html' %}

{% block conteudo %}
  <h2>Consultas Realizadas</h2>

  {% if consultas %}
    {% for consulta in consultas %}
      <div class="card" style="margin-bottom: 20px; padding: 20px; border-radius: 10px; background: #fff; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
        <p><strong>Paciente:</strong> {{ consulta.paciente.nome }}</p>
        <p><strong>Data:</strong> {{ consulta.data|date:"d/m/Y" }}</p>
        <p><strong>Horário:</strong> {{ consulta.horario|time:"H:i" }}</p>
        <p><strong>Médico:</strong> {{ consulta.medico }}</p>
        <p><strong>Diagnóstico:</strong>
          {% if consulta.diagnostico %}
            {{ consulta.diagnostico.doenca.nome }}
          {% else %}
            <em>Não informado</em>
          {% endif %}
        </p>
      </div>
    {% endfor %}
  {% else %}
    <p>Nenhuma consulta registrada.</p>
  {% endif %}
{% endblock %}
